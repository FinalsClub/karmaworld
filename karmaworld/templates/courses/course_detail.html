{% extends "base.html" %}
{% load url from future %}


{% block pagescripts %}
  <script src="{{ STATIC_URL }}js/bootstrap-modal.js" ></script>
  <script src="{{ STATIC_URL }}js/setup-ajax.js"></script>
  <script src="{{ STATIC_URL }}js/course-detail.js" ></script>
  <script>
    var csrf_token = "{{ csrf_token }}";
    var course_flag_url = "{% url 'flag_course' course.id %}"
  </script>
{% endblock %}


{% block pagestyle %}
  <link rel="stylesheet" type="text/css" media="all" href="{{ STATIC_URL }}css/note_course_pages.css">
{% endblock %}


{% block title %}
  Share Notes for {{ course.name }} | {{ course.school.name }}
{% endblock %}

{% block content %}
  <section id="course_content">

    <div id="course_header" class="hero_gradient_bar">
      <div class="row">
        <div class="small-12 columns header_title">
          {{ course.name }}
        </div><!-- /note_name -->
      </div>

      <div class="row">
        <div id="course_meta" class="twelve columns">
          <div class="activity_details_context">
            {{ course.instructor_name }} {% if course.department %}// {{ course.department.name }}{% endif %}
          </div><!-- /activity_details_context -->
        </div><!-- /course_meta -->
      </div>

      <div class="row">
        <div id="course_meta" class="twelve columns">
          <div class="activity_details_context">
            {{ course.school.name }}
          </div><!-- /activity_details_context -->
        </div><!-- /course_meta -->
      </div>

      {% if course.url %}
        <div class="row">
          <div id="course_link" class="twelve columns">
            <div class="activity_details_context">
              <a rel="nofollow" target="_blank" href="{{ course.url }}">
                {{ course.url|slice:":50" }}
                <i class="fa fa-external-link-square"></i>
              </a>
            </div><!-- /activity_details_context -->
          </div><!-- /course_meta -->
        </div>
      {% endif %}

        <div class="row">
        <div id="course_actions" class="large-3 medium-6 small-12 columns small-centered">
          <div class="row">
            <div class="small-12 column center">
              {% if user.is_authenticated %}
                {% if already_flagged %}
                  <img src="{{ STATIC_URL }}img/note_flag_disabled.png"
                       alt="course_flag"
                       width="25" height="35"
                       data-ot="You've already flagged this course"
                       {% include 'partial/opentip_settings.html' %}
                       class="opentip" />
                {% else %}
                  <a href="#" id="flag-button">
                    <img src="{{ STATIC_URL }}img/note_flag.png" alt="course_flag" width="25" height="35" />
                  </a>
                {% endif %}
              {% else %}
                <img src="{{ STATIC_URL }}img/note_flag_disabled.png"
                     alt="course_flag"
                     width="25" height="35"
                     data-ot="You need to log in to flag a course"
                     {% include 'partial/opentip_settings.html' %}
                     class="opentip" />
              {% endif %}
              <a href="#" id="flag-button-disabled" class="hide">
                <img src="{{ STATIC_URL }}img/note_flag_disabled.png" alt="course_flag" width="25" height="35" />
              </a>
            </div>
          </div>
        </div><!-- /note_actions -->
      </div>
    </div><!-- /course_header -->



    <div class="row">
      <div class="small-10 columns small-offset-1"> <hr/> </div>
    </div>


    {% include 'partial/filepicker.html' %}

    <div class="row">
      <div class="small-10 columns small-offset-1"> <hr/> </div>
    </div>

    <div id="course_container">
      <div class="row">
        <div class="small-12 columns large-10 large-offset-1">
          {% for note in note_set %}
            {% include 'notes/note_list_entry.html' with note=note %}
          {% endfor %}
        </div>
      </div>
    </div><!-- /course_container -->

    {% comment %}
    <div class="row">
      <div class="twelve columns">
        <div id="search_pagination" style="width: 232px"><!-- WIDTH SHOULD BE SET DYNAMICALLY TO ENABLE MARGIN: AUTO -->
          <div id="search_pagination_left">
            <img src="img/search_arrow_left.png" alt="search_arrow_left" width="5" height="10" />
          </div><!-- /search_pagination_left -->
          <div id="search_pagination_numbers">
            <ul>
              <li class="button_interior">1</li>
              <li>2</li>
              <li>3</li>
              <li>4</li>
              <li>5</li>
              <li>6</li>
            </ul>
          </div><!-- /search_pagination_numbers -->
          <div id="search_pagination_right">
            <img src="img/search_arrow_right.png" alt="search_arrow_right" width="5" height="10" />
          </div><!-- /search_pagination_right -->
        </div><!-- /search_pagination -->
      </div>
    </div>
    {% endcomment %}
  </section><!--/note_content-->
{% endblock %}
